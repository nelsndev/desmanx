<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <h:head>
    <title>Modelos</title>
  </h:head>

  <h:body>
    <b:growl delay="3000" showDetail="true" showSummary="true"/>

    <b:form id="formModelos">
      <p:commandButton value="Cadastrar" style="display: inline-block; margin: 8px 8px 10px"
                       oncomplete="$('.cadastro').modal('show')" ajax="true"/>

      <b:dataTable var="modelo" value="#{modeloCtrl.readAll()}">
        <b:dataTableColumn value="#{modelo.id}" label="ID"/>
        <b:dataTableColumn value="#{modelo.nome}" label="Nome"/>
        <b:dataTableColumn value="#{modelo.fabricante}" label="Fabricante"/>
        <b:dataTableColumn value="#{modelo.tipo}" label="Tipo"/>

        <b:dataTableColumn label="Operações">
          <p:commandButton value="Visualizar" style="display: inline-block; margin-right: 8px"
                           oncomplete="$('.visualizacao').modal('show')" update=":modalVisualizacao"
                           ajax="true">
            <f:setPropertyActionListener value="#{modelo}" target="#{modeloCtrl.selecionado}"/>
          </p:commandButton>

          <p:commandButton  value="Alterar" style="display: inline-block; margin-right: 8px"></p:commandButton>
          <p:commandButton value="Deletar"></p:commandButton>
        </b:dataTableColumn>
      </b:dataTable>
    </b:form>

    <b:modal id="modalCadastro" class="cadastro" title="Modelo Cadastro">
      <b:form>
        <h:outputText value="Nome"/>
        <b:inputText value="#{modeloCtrl.modelo.nome}"/>

        <h:outputText value="Fabricante"/>
        <b:inputText value="#{modeloCtrl.modelo.fabricante}"/>

        <h:outputText value="Tipo"/>
        <b:inputText value="#{modeloCtrl.modelo.tipo}"/>

        <b:commandButton value="Cadastrar" action="#{modeloCtrl.create()}"/>
        <b:button value="Cancelar" dismiss="modal" style="display: inline-block; margin-left: 10px;"/>
      </b:form>
    </b:modal>

    <b:modal id="modalVisualizacao" class="visualizacao" title="Modelo Visualização">
      <b:form>
        <h:panelGrid columns="2" border="1" cellpadding="50">
          <h:outputText value="ID" style="font-weight: 700"/>
          <h:outputText value="#{modeloCtrl.selecionado.id}" style="padding: 0 30px;"/>

          <h:outputText value="Nome" style="font-weight: 700"/>
          <h:outputText value="#{modeloCtrl.selecionado.nome}" style="padding: 0 30px;"/>

          <h:outputText value="Fabricante" style="font-weight: 700"/>
          <h:outputText value="#{modeloCtrl.selecionado.fabricante}" style="padding: 0 30px;"/>

          <h:outputText value="Tipo" style="font-weight: 700"/>
          <h:outputText value="#{modeloCtrl.selecionado.tipo}" style="padding: 0 30px;"/>
        </h:panelGrid>
      </b:form>
    </b:modal>
  </h:body>
</html>
